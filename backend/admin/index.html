<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å Kyte Chat</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ -->
    <div id="loginScreen" class="screen active">
        <div class="login-container">
            <div class="login-card">
                <h1>üîê –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
                <p class="subtitle">Kyte Chat Management</p>
                <form id="loginForm">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="email" required placeholder="admin@kyte.com">
                    </div>
                    <div class="form-group">
                        <label>–ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <button type="submit" class="btn btn-primary">–í–æ–π—Ç–∏</button>
                </form>
                <div id="loginError" class="error-message"></div>
            </div>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ -->
    <div id="adminScreen" class="screen">
        <div class="admin-header">
            <h1>üìä –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å Kyte Chat</h1>
            <button id="logoutBtn" class="btn btn-secondary">–í—ã–π—Ç–∏</button>
        </div>

        <div class="admin-container">
            <!-- –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é -->
            <aside class="sidebar">
                <nav class="nav-menu">
                    <a href="#" class="nav-item active" data-page="dashboard">
                        <span>üìä</span> –î–∞—à–±–æ—Ä–¥
                    </a>
                    <a href="#" class="nav-item" data-page="users">
                        <span>üë•</span> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
                    </a>
                    <a href="#" class="nav-item" data-page="chats">
                        <span>üí¨</span> –ß–∞—Ç—ã
                    </a>
                    <a href="#" class="nav-item" data-page="messages">
                        <span>üì®</span> –°–æ–æ–±—â–µ–Ω–∏—è
                    </a>
                    <a href="#" class="nav-item" data-page="ai">
                        <span>ü§ñ</span> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ AI
                    </a>
                </nav>
            </aside>

            <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
            <main class="content">
                <!-- –î–∞—à–±–æ—Ä–¥ -->
                <div id="dashboardPage" class="page active">
                    <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                    <div class="stats-grid" id="statsGrid">
                        <div class="stat-card">
                            <div class="stat-icon">üë•</div>
                            <div class="stat-info">
                                <div class="stat-value" id="statUsers">-</div>
                                <div class="stat-label">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üí¨</div>
                            <div class="stat-info">
                                <div class="stat-value" id="statChats">-</div>
                                <div class="stat-label">–ß–∞—Ç–æ–≤</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üì®</div>
                            <div class="stat-info">
                                <div class="stat-value" id="statMessages">-</div>
                                <div class="stat-label">–°–æ–æ–±—â–µ–Ω–∏–π</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üìÖ</div>
                            <div class="stat-info">
                                <div class="stat-value" id="statToday">-</div>
                                <div class="stat-label">–°–µ–≥–æ–¥–Ω—è</div>
                            </div>
                        </div>
                    </div>

                    <div class="section">
                        <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h3>
                        <div id="recentUsers" class="table-container"></div>
                    </div>

                    <div class="section">
                        <h3>–ê–∫—Ç–∏–≤–Ω—ã–µ —á–∞—Ç—ã</h3>
                        <div id="activeChats" class="table-container"></div>
                    </div>
                </div>

                <!-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ -->
                <div id="usersPage" class="page">
                    <div class="page-header">
                        <h2>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>
                        <div class="search-box">
                            <input type="text" id="userSearch" placeholder="–ü–æ–∏—Å–∫ –ø–æ email, –∏–º–µ–Ω–∏, —Ç–µ–ª–µ—Ñ–æ–Ω—É...">
                        </div>
                    </div>
                    <div id="usersTable" class="table-container"></div>
                    <div class="pagination" id="usersPagination"></div>
                </div>

                <!-- –ß–∞—Ç—ã -->
                <div id="chatsPage" class="page">
                    <div class="page-header">
                        <h2>–ß–∞—Ç—ã</h2>
                        <div class="filter-box">
                            <select id="chatTypeFilter">
                                <option value="">–í—Å–µ —á–∞—Ç—ã</option>
                                <option value="direct">–õ–∏—á–Ω—ã–µ</option>
                                <option value="group">–ì—Ä—É–ø–ø—ã</option>
                            </select>
                        </div>
                    </div>
                    <div id="chatsTable" class="table-container"></div>
                    <div class="pagination" id="chatsPagination"></div>
                </div>

                <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
                <div id="messagesPage" class="page">
                    <div class="page-header">
                        <h2>–°–æ–æ–±—â–µ–Ω–∏—è</h2>
                        <div class="search-box">
                            <input type="text" id="messageChatFilter" placeholder="ID —á–∞—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)">
                        </div>
                    </div>
                    <div id="messagesTable" class="table-container"></div>
                    <div class="pagination" id="messagesPagination"></div>
                </div>

                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ AI -->
                <div id="aiPage" class="page">
                    <div class="page-header">
                        <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ AI</h2>
                        <button class="btn btn-primary" onclick="testAIConfig()">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                    </div>
                    <div id="aiConfigForm" class="form-container">
                        <form id="aiConfigFormElement">
                            <div class="form-group">
                                <label>OpenAI API Key</label>
                                <input type="password" id="openaiApiKey" placeholder="sk-...">
                                <small>–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, —á—Ç–æ–±—ã –Ω–µ –∏–∑–º–µ–Ω—è—Ç—å —Ç–µ–∫—É—â–∏–π –∫–ª—é—á</small>
                            </div>
                            <div class="form-group">
                                <label>–ú–æ–¥–µ–ª—å</label>
                                <select id="openaiModel">
                                    <option value="gpt-3.5-turbo">gpt-3.5-turbo</option>
                                    <option value="gpt-4">gpt-4</option>
                                    <option value="gpt-4-turbo">gpt-4-turbo</option>
                                </select>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Max Tokens</label>
                                    <input type="number" id="openaiMaxTokens" min="1" max="4000" value="500">
                                </div>
                                <div class="form-group">
                                    <label>Temperature</label>
                                    <input type="number" id="openaiTemperature" min="0" max="2" step="0.1" value="0.7">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç</label>
                                <textarea id="systemPrompt" rows="5" placeholder="–¢—ã –ø–æ–ª–µ–∑–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç..."></textarea>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>–ú–∞–∫—Å. –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É</label>
                                    <input type="number" id="maxRequestsPerMinute" min="1" value="10">
                                </div>
                                <div class="form-group">
                                    <label>–ú–∞–∫—Å. –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —á–∞—Å</label>
                                    <input type="number" id="maxRequestsPerHour" min="1" value="100">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="aiEnabled"> AI –≤–∫–ª—é—á–µ–Ω
                                </label>
                            </div>
                            <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                        </form>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="modalBody"></div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

