# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMS.ru –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ SMS

## –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –û–±–Ω–æ–≤–∏—Ç—å .env —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
cd /var/www/kyte-backend/backend

# –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMS.ru –≤ .env
echo "" >> .env
echo "SMS_PROVIDER=smsru" >> .env
echo "SMSRU_API_ID=2BD84383-DDFD-B4E3-A588-5908F91C3927" >> .env

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –¥–æ–±–∞–≤–∏–ª–æ—Å—å
cat .env | grep -E "SMS|SMSRU"
```

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PM2

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã Node.js
sudo killall node || true
sleep 2

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ PM2
cd /var/www/kyte-backend/backend
pm2 delete kyte-backend || true
pm2 start src/server.js --name kyte-backend --update-env
pm2 save

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs kyte-backend --lines 20 --nostream | grep -E "SMS|üì±"
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

```bash
# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
curl -X POST http://94.131.80.213/api/auth/phone/send-code \
  -H 'Content-Type: application/json' \
  -d '{"phone": "+79686288842"}'

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs kyte-backend --lines 30 --nostream | tail -20
```

## –§–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞

SMS.ru –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –Ω–æ–º–µ—Ä –∏–∑ —Ñ–æ—Ä–º–∞—Ç–∞ `+79991234567` –≤ `79991234567` (–±–µ–∑ –∑–Ω–∞–∫–∞ `+`).

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã:
- `+79991234567` (—Å –ø–ª—é—Å–æ–º)
- `79991234567` (–±–µ–∑ –ø–ª—é—Å–∞)
- `89991234567` (—Å 8, –±—É–¥–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω –≤ +7)

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ SMS.ru

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–ª–∞–Ω—Å–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```bash
curl "https://sms.ru/my/balance?api_id=2BD84383-DDFD-B4E3-A588-5908F91C3927&json=1"
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **API ID**: `2BD84383-DDFD-B4E3-A588-5908F91C3927` - —ç—Ç–æ –≤–∞—à –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞ –∫ SMS.ru
2. **–õ–∏–º–∏—Ç—ã**: SMS.ru –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç—ã –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ SMS –≤ –¥–µ–Ω—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∞—Ä–∏—Ñ–∞
3. **–°—Ç–æ–∏–º–æ—Å—Ç—å**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏ SMS –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ SMS.ru
4. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç—Ä–∞–Ω**: SMS.ru —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –†–æ—Å—Å–∏–∏ –∏ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ

## –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ SMS –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PM2:
```bash
pm2 logs kyte-backend --lines 50 --nostream | grep -E "SMS|üì±|üì§|‚ùå|‚úÖ"
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –≤ SMS.ru:
```bash
curl "https://sms.ru/my/balance?api_id=2BD84383-DDFD-B4E3-A588-5908F91C3927&json=1"
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ (–∑–∞–º–µ–Ω–∏—Ç–µ SMS_ID –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π ID –∏–∑ –ª–æ–≥–æ–≤):
```bash
curl "https://sms.ru/sms/status?api_id=2BD84383-DDFD-B4E3-A588-5908F91C3927&sms_id=SMS_ID&json=1"
```

